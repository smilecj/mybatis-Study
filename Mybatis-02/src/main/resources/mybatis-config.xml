<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration
    PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-config.dtd">
<!-- configuration核心配置文件-->
<configuration>
<!--  goods_id ==> goodsId  驼峰命名转化-->
  <settings>
    <setting name="mapUnderscoreToCamelCase" value="true"/>
  </settings>

<!--  启用Pagehelper分页插件-->
  <plugins>
    <plugin interceptor="com.github.pagehelper.PageInterceptor">
      <!--指定对应的数据库，这个可以不写，插件会自动识别，但是严谨角度建议还是写一下-->
      <property name="helperDialect" value="mysql"/>
      <!--开启分页合理化（如输入第0页时，展示第一页数据，输入超过最大页数的数据时候，展示最大页数的数据）-->
      <property name="reasonable" value="true"/>
    </plugin>
  </plugins>


<!--  设置指向的数据库-->
  <environments default="development">



<!--    配置环境 不同的环境不同的id-->
    <environment id="development">
   <!--   采用jdbc方式对数据库事务进行comit/rollback-->
      <transactionManager type="JDBC"></transactionManager>
     <!-- 采用连接池方式管理数据库连接-->
      <dataSource type="POOLED">
        <property name="driver" value="com.mysql.jdbc.Driver"/>
        <property name="url" value="jdbc:mysql://localhost:3306/babytun?useUnicode=true&amp;characterEncoding=UTF-8"/>
        <property name="username" value="root"/>
        <property name="password" value="root"/>
      </dataSource>
    </environment>



    <!--    配置环境 不同的环境不同的id-->
    <environment id="c3p0">
      <!--   采用jdbc方式对数据库事务进行comit/rollback-->
      <transactionManager type="JDBC"></transactionManager>
      <!-- 采用连接池方式管理数据库连接-->
      <dataSource type="cn.smilehalo.datasource.C3P0DataSourceFactory">
        <!--数据库连接基本属性-->
        <property name="driverClass" value="com.mysql.jdbc.Driver"/>
        <property name="jdbcUrl" value="jdbc:mysql://localhost:3306/babytun?useUnicode=true&amp;characterEncoding=UTF-8"/>
        <property name="user" value="root"/>
        <property name="password" value="root"/>

        <!--c3p0连接池私有属性-->
        <!--初始化连接数-->
        <property name="initial	PoolSize" value="5"/>
        <!--最小连接数，一般与初始化连接数相同-->
        <property name="minPoolSize" value="5"/>
        <!--最大连接数-->
        <property name="maxPoolSize" value="20"/>
        <!--关闭连接后不自动commit-->
        <property name="autoCommitOnClose" value="false"/>
        <!--获取连接超时时间-->
        <property name="checkoutTimeout" value="10000"/>
        <!--连接失败重试次数-->
        <property name="acquireRetryAttempts" value="2"/>
      </dataSource>
    </environment>





  </environments>




  <!--每一个Mapper.XML都需要再Mybatis核心配置文件中注册-->
    <mappers>
      <mapper resource="mappers/goods.xml"/>
      <mapper resource="mappers/goods_detail.xml"/>
    </mappers>

</configuration>